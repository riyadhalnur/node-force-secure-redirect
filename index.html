<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Node-force-secure-redirect by riyadhalnur</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Node-force-secure-redirect</h1>
      <h2 class="project-tagline">Force all incoming HTTP connections to be redirected to secure (HTTPS) version of your express app</h2>
      <a href="https://github.com/riyadhalnur/node-force-secure-redirect" class="btn">View on GitHub</a>
      <a href="https://github.com/riyadhalnur/node-force-secure-redirect/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/riyadhalnur/node-force-secure-redirect/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p><a href="https://travis-ci.org/riyadhalnur/node-force-secure-redirect"><img src="https://travis-ci.org/riyadhalnur/node-force-secure-redirect.svg?branch=master" alt="Build Status"></a>  </p>

<h1>
<a id="node-force-secure-redirect" class="anchor" href="#node-force-secure-redirect" aria-hidden="true"><span class="octicon octicon-link"></span></a>node-force-secure-redirect</h1>

<p>Force all incoming HTTP connections to be redirected to secure (HTTPS) version of your express app.  </p>

<p>Works for node apps directly behind an Amazon ELB (Elastic Load Balancer). </p>

<h2>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install</h2>

<p><code>npm install node-force-secure-redirect --save</code>  </p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<div class="highlight highlight-js"><pre><span class="pl-k">var</span> forceHTTPS <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>node-force-secure-redirect<span class="pl-pds">'</span></span>);  
...  
...
...
app.set(<span class="pl-s"><span class="pl-pds">'</span>trust proxy<span class="pl-pds">'</span></span>); <span class="pl-c">// this is important when your app is behind an ELB</span>
app.use(forceHTTPS(<span class="pl-s"><span class="pl-pds">'</span>environment<span class="pl-pds">'</span></span>));  </pre></div>

<p>where the environment <em>parameter</em> (string or array of strings) are the environment for which you want to enforce SSL on. If no enviroment string is passed in, HTTPS will not be enforced on any enviroment.</p>

<h2>
<a id="tests" class="anchor" href="#tests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tests</h2>

<p><code>NODE_ENV=testing npm test</code>  </p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>Licensed under <a href="http://www.gnu.org/licenses/gpl-3.0.txt">GPL v3</a>  </p>

<h2>
<a id="credits" class="anchor" href="#credits" aria-hidden="true"><span class="octicon octicon-link"></span></a>Credits</h2>

<p>Made with love in Dhaka, Bangladesh by <a href="https://twitter.com/riyadhalnur">Riyadh Al Nur</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/riyadhalnur/node-force-secure-redirect">Node-force-secure-redirect</a> is maintained by <a href="https://github.com/riyadhalnur">riyadhalnur</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

